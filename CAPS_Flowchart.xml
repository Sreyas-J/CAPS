<mxGraphModel>
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>
    <!-- Start -->
    <mxCell id="2" value="Start" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="300" y="50" width="80" height="40" as="geometry"/>
    </mxCell>
    <!-- Step 1 -->
    <mxCell id="3" value="Step 1: Initialize clusters (C) and set pilot sequences (Hi) for each user" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="250" y="120" width="200" height="60" as="geometry"/>
    </mxCell>
    <!-- Step 2 -->
    <mxCell id="4" value="Step 2: Calculate the distance (Xi) of each user from all cluster centroids" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="250" y="200" width="200" height="60" as="geometry"/>
    </mxCell>
    <!-- Step 3 -->
    <mxCell id="5" value="Step 3: Sort distances in ascending order and assign each user (Ui) to the nearest cluster" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="250" y="280" width="200" height="60" as="geometry"/>
    </mxCell>
    <!-- Step 4 -->
    <mxCell id="6" value="Step 4: Create a subset (Mi) of APs common to the assigned cluster and pilot sequence" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="250" y="360" width="200" height="60" as="geometry"/>
    </mxCell>
    <!-- Step 5 -->
    <mxCell id="7" value="Step 5: Compute Spectral Efficiency (SE) for each AP in Mi and rank them" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="250" y="440" width="200" height="60" as="geometry"/>
    </mxCell>
    <!-- Step 6 -->
    <mxCell id="8" value="Step 6: Assign the top-ranked AP to each user" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="250" y="520" width="200" height="60" as="geometry"/>
    </mxCell>
    <!-- Decision: All users assigned? -->
    <mxCell id="9" value="All users assigned an AP?" style="rhombus;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="300" y="600" width="80" height="80" as="geometry"/>
    </mxCell>
    <!-- End -->
    <mxCell id="10" value="End" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="300" y="700" width="80" height="40" as="geometry"/>
    </mxCell>
    <!-- Edges (Arrows) -->
    <mxCell id="11" edge="1" source="2" target="3" parent="1">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="12" edge="1" source="3" target="4" parent="1">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="13" edge="1" source="4" target="5" parent="1">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="14" edge="1" source="5" target="6" parent="1">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="15" edge="1" source="6" target="7" parent="1">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="16" edge="1" source="7" target="8" parent="1">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="17" edge="1" source="8" target="9" parent="1">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="18" edge="1" source="9" target="10" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="340" y="680" as="sourcePoint"/>
        <mxPoint x="340" y="700" as="targetPoint"/>
      </mxGeometry>
      <mxCell id="18_label" value="Yes" style="edgeLabel;html=1;align=center;verticalAlign=middle;" connectable="0" parent="18">
        <mxGeometry x="0" y="0" relative="1" as="geometry"/>
      </mxCell>
    </mxCell>
    <mxCell id="19" edge="1" source="9" target="8" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="300" y="640" as="sourcePoint"/>
        <mxPoint x="200" y="560" as="targetPoint"/>
      </mxGeometry>
      <mxCell id="19_label" value="No" style="edgeLabel;html=1;align=center;verticalAlign=middle;" connectable="0" parent="19">
        <mxGeometry x="0" y="0" relative="1" as="geometry"/>
      </mxCell>
    </mxCell>
  </root>
</mxGraphModel>